@page "/home"
@layout MainLayout

<MudLayout>
    <MudAppBar Style="background-color:#053B71;color:white" Fixed="false" Dense="false" DisableGutters="false" Class="pa-0">
        <MudGrid>
            <MudItem xs="1" Class="d-flex align-center justify-left">
                <MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.Start" />
            </MudItem>
            <MudItem xs="5" Class="d-flex align-center justify-left pa-0">
                <MudText Class="ml-4" Style="font-weight:800;font-size:large">@UserCompany</MudText>
            </MudItem>
            @*<MudItem xs="4" Class="d-flex align-bottom justify-left">

            </MudItem>*@
            <MudItem xs="6" Class="d-flex align-bottom ">
                <MudGrid>
                    <MudItem xs="8" Style="align-items:center;justify-content:end;display:flex;">
                        <MudText>@UserName</MudText>
                    </MudItem>
                    <MudItem xs="4">
                        <MudIconButton Icon="@Icons.Material.Filled.Logout" Style="color:white" Href="/" />
                    </MudItem>
                </MudGrid>
            </MudItem>
        </MudGrid>
      </MudAppBar>
</MudLayout>

@code{

    public string UserCompany { get; set; } = "Company";

    public string UserName { get; set; } = "User";

    public async void Load()
    {


        UserName = _loginState.GetUserName();
        Console.WriteLine(UserName);

        var Company = _loginState.GetUserCompany();
        UserCompany = Company.CompanyName;
        Console.WriteLine(UserCompany);


        StateHasChanged();

    }

    protected override void OnInitialized()
    {
        Load();
    }
}